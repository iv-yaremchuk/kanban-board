{"ast":null,"code":"import _slicedToArray from \"/home/ivan/web/skillfactory/React/kanban-board-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/ivan/web/skillfactory/React/kanban-board-main/src/components/main/card/CardItem.jsx\";\nimport React, { useState, useRef } from 'react';\nimport './style.css';\nimport { Link, Outlet, useLocation } from 'react-router-dom';\nfunction CardItem(props) {\n  var _this2 = this;\n  var type = props.type,\n    tasks = props.tasks,\n    setTasks = props.setTasks,\n    createNewTask = props.createNewTask,\n    prevTaskList = props.prevTaskList;\n  var location = useLocation();\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    active = _useState2[0],\n    setActive = _useState2[1];\n  var inputValueRef = useRef(null);\n  var AddButton = /*#__PURE__*/React.createElement(\"button\", {\n    onClick: function onClick() {\n      setActive(true);\n    },\n    className: prevTaskList.length || props.title === 'Backlog' ? 'card__btn--add is-active' : 'card__btn--add',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    className: \"btn-icon\",\n    width: \"14\",\n    height: \"14\",\n    viewBox: \"0 0 14 14\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M13 6H8V1C8 0.448 7.552 0 7 0C6.448 0 6 0.448 6 1V6H1C0.448 6 0 6.448 0 7C0 7.552 0.448 8 1 8H6V13C6 13.552 6.448 14 7 14C7.552 14 8 13.552 8 13V8H13C13.552 8 14 7.552 14 7C14 6.448 13.552 6 13 6Z\",\n    fill: \"currentColor\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 9\n    }\n  })), \"Add card\");\n  useEffect(function () {\n    window.localStorage.setItem('tasks', JSON.stringify(tasks));\n  }, [tasks]);\n  function CardItemFormOrSelect() {\n    var _this = this;\n    var handleSubmit = function handleSubmit(e) {\n      e.preventDefault();\n      if (inputValueRef.current.value.trim()) {\n        createNewTask(inputValueRef.current.value);\n      }\n      setActive(false);\n    };\n    var statusChange = function statusChange(e, status) {\n      var tasksList = JSON.parse(window.localStorage.getItem('tasks'));\n      var tasksCopy = tasksList.map(function (task) {\n        if (task.id === e.target.value) {\n          task.status = status;\n        }\n        return task;\n      });\n      setTasks(tasksCopy);\n      setActive(false);\n    };\n    if (type === 'backlog') {\n      return /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"card__form\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        id: \"title\",\n        className: \"card__input\",\n        ref: inputValueRef,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(\"button\", {\n        type: \"submit\",\n        className: \"card__btn--submit\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }\n      }, \"Submit\"));\n    } else {\n      return /*#__PURE__*/React.createElement(\"select\", {\n        className: \"card__select\",\n        onChange: function onChange(e) {\n          return statusChange(e, type);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"option\", {\n        value: 'default',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }\n      }, \"Select task\"), prevTaskList.map(function (task) {\n        return /*#__PURE__*/React.createElement(\"option\", {\n          className: \"card__option\",\n          key: task.id,\n          value: task.id,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 15\n          }\n        }, task.title);\n      }));\n    }\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"card__title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }\n  }, props.title), /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"card__list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }\n  }, tasks.length ? tasks.map(function (task) {\n    return /*#__PURE__*/React.createElement(\"li\", {\n      key: task.id,\n      className: \"card__item\",\n      __self: _this2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      className: \"card__link\",\n      to: \"/tasks/\".concat(task.id),\n      state: {\n        background: location\n      },\n      __self: _this2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"card__subtitle\",\n      __self: _this2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 17\n      }\n    }, task.title)), /*#__PURE__*/React.createElement(Outlet, {\n      __self: _this2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 15\n      }\n    }));\n  }) : /*#__PURE__*/React.createElement(\"p\", {\n    className: \"card__text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 11\n    }\n  }, \"No tasks added yet\")), !active ? AddButton : /*#__PURE__*/React.createElement(CardItemFormOrSelect, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 30\n    }\n  }));\n}\nexport default CardItem;","map":{"version":3,"names":["React","useState","useRef","Link","Outlet","useLocation","CardItem","props","_this2","type","tasks","setTasks","createNewTask","prevTaskList","location","_useState","_useState2","_slicedToArray","active","setActive","inputValueRef","AddButton","createElement","onClick","className","length","title","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","width","height","viewBox","fill","xmlns","d","useEffect","window","localStorage","setItem","JSON","stringify","CardItemFormOrSelect","_this","handleSubmit","e","preventDefault","current","value","trim","statusChange","status","tasksList","parse","getItem","tasksCopy","map","task","id","target","onSubmit","ref","onChange","key","to","concat","state","background"],"sources":["/home/ivan/web/skillfactory/React/kanban-board-main/src/components/main/card/CardItem.jsx"],"sourcesContent":["import React, { useState, useRef } from 'react';\nimport './style.css';\nimport { Link, Outlet, useLocation } from 'react-router-dom';\n\nfunction CardItem(props) {\n  const { type, tasks, setTasks, createNewTask, prevTaskList } = props;\n  const location = useLocation();\n  const [active, setActive] = useState(false);\n  const inputValueRef = useRef(null);\n\n  const AddButton = (\n    <button\n      onClick={() => {\n        setActive(true);\n      }}\n      className={\n        prevTaskList.length || props.title === 'Backlog'\n          ? 'card__btn--add is-active'\n          : 'card__btn--add'\n      }\n    >\n      <svg\n        className=\"btn-icon\"\n        width=\"14\"\n        height=\"14\"\n        viewBox=\"0 0 14 14\"\n        fill=\"none\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <path\n          d=\"M13 6H8V1C8 0.448 7.552 0 7 0C6.448 0 6 0.448 6 1V6H1C0.448 6 0 6.448 0 7C0 7.552 0.448 8 1 8H6V13C6 13.552 6.448 14 7 14C7.552 14 8 13.552 8 13V8H13C13.552 8 14 7.552 14 7C14 6.448 13.552 6 13 6Z\"\n          fill=\"currentColor\"\n        />\n      </svg>\n      Add card\n    </button>\n  );\n\n  useEffect(() => {\n    window.localStorage.setItem('tasks', JSON.stringify(tasks));\n  }, [tasks]);\n\n  function CardItemFormOrSelect() {\n    const handleSubmit = (e) => {\n      e.preventDefault();\n      if (inputValueRef.current.value.trim()) {\n        createNewTask(inputValueRef.current.value);\n      }\n      setActive(false);\n    };\n\n    const statusChange = (e, status) => {\n      const tasksList = JSON.parse(window.localStorage.getItem('tasks'));\n      const tasksCopy = tasksList.map((task) => {\n        if (task.id === e.target.value) {\n          task.status = status;\n        }\n        return task;\n      });\n      setTasks(tasksCopy);\n      setActive(false);\n    };\n\n    if (type === 'backlog') {\n      return (\n        <form onSubmit={handleSubmit} className=\"card__form\">\n          <input\n            type=\"text\"\n            id=\"title\"\n            className=\"card__input\"\n            ref={inputValueRef}\n          />\n          <button type=\"submit\" className=\"card__btn--submit\">\n            Submit\n          </button>\n        </form>\n      );\n    } else {\n      return (\n        <select\n          className=\"card__select\"\n          onChange={(e) => statusChange(e, type)}\n        >\n          <option value={'default'}>Select task</option>\n          {prevTaskList.map((task) => {\n            return (\n              <option className='card__option' key={task.id} value={task.id}>\n                {task.title}\n              </option>\n            );\n          })}\n        </select>\n      );\n    }\n  }\n\n  return (\n    <div className=\"card\">\n      <h2 className=\"card__title\">{props.title}</h2>\n      <ul className=\"card__list\">\n        {tasks.length ? (\n          tasks.map((task) => (\n            <li key={task.id} className=\"card__item\">\n              <Link className='card__link' to={`/tasks/${task.id}`} state={{ background: location }}>\n                <h2 className=\"card__subtitle\">{task.title}</h2>\n              </Link>\n              <Outlet />\n            </li>\n          ))\n        ) : (\n          <p className='card__text'>No tasks added yet</p>\n        )}\n      </ul>\n      {!active ? AddButton : <CardItemFormOrSelect />}\n    </div>\n  );\n}\n\nexport default CardItem;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}