{"ast":null,"code":"import _slicedToArray from \"/home/ivan/web/skillfactory/React/kanban-board-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/ivan/web/skillfactory/React/kanban-board-test/src/components/main/modal/Modal.jsx\";\nimport React, { useState } from 'react';\nimport './style.css';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport FocusTrap from 'focus-trap-react';\nfunction Modal(props) {\n  var tasks = props.tasks,\n    setTasks = props.setTasks;\n  var _useParams = useParams(),\n    id = _useParams.id;\n  var task = JSON.parse(window.localStorage.getItem('tasks')).find(function (task) {\n    return task.id === id;\n  });\n  var navigate = useNavigate();\n  var _useState = useState(task.description ? task.description : 'This task has no description'),\n    _useState2 = _slicedToArray(_useState, 2),\n    description = _useState2[0],\n    setDescription = _useState2[1];\n  var addDescription = function addDescription() {\n    var tasksCopy = tasks.map(function (elem) {\n      if (elem.id === id) {\n        elem.description = description;\n      }\n      return elem;\n    });\n    setTasks(tasksCopy);\n  };\n  return /*#__PURE__*/React.createElement(FocusTrap, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal__wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"modal__title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 11\n    }\n  }, task.title), /*#__PURE__*/React.createElement(\"textarea\", {\n    className: \"modal__text\",\n    onFocus: function onFocus() {\n      description === 'This task has no description' && setDescription('');\n    },\n    onChange: function onChange(e) {\n      setDescription(e.target.value);\n    },\n    value: description,\n    onBlur: addDescription,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: function onClick() {\n      return navigate(-1);\n    },\n    className: \"modal__btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"25\",\n    height: \"24\",\n    viewBox: \"0 0 25 24\",\n    fill: \"none\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"line\", {\n    x1: \"1.35355\",\n    y1: \"0.646447\",\n    x2: \"24.3536\",\n    y2: \"23.6464\",\n    stroke: \"black\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    y1: \"-0.5\",\n    x2: \"32.5269\",\n    y2: \"-0.5\",\n    transform: \"matrix(-0.707107 0.707107 0.707107 0.707107 24 1)\",\n    stroke: \"black\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 15\n    }\n  }))))));\n}\nexport default Modal;","map":{"version":3,"names":["React","useState","useNavigate","useParams","FocusTrap","Modal","props","tasks","setTasks","_useParams","id","task","JSON","parse","window","localStorage","getItem","find","navigate","_useState","description","_useState2","_slicedToArray","setDescription","addDescription","tasksCopy","map","elem","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","className","title","onFocus","onChange","e","target","value","onBlur","onClick","xmlns","width","height","viewBox","fill","x1","y1","x2","y2","stroke","transform"],"sources":["/home/ivan/web/skillfactory/React/kanban-board-test/src/components/main/modal/Modal.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport './style.css';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport FocusTrap from 'focus-trap-react';\n\nfunction Modal(props) {\n  const { tasks, setTasks } = props;\n  const { id } = useParams();\n\n  const task = JSON.parse(window.localStorage.getItem('tasks')).find(\n    (task) => task.id === id\n  );\n\n  const navigate = useNavigate();\n  const [description, setDescription] = useState(\n    task.description ? task.description : 'This task has no description'\n  );\n\n  const addDescription = () => {\n    const tasksCopy = tasks.map((elem) => {\n      if (elem.id === id) {\n        elem.description = description;\n      }\n      return elem;\n    });\n    setTasks(tasksCopy);\n  };\n\n  return (\n    <FocusTrap>\n      <div className=\"modal\">\n        <div className=\"modal__wrap\">\n          <h2 className=\"modal__title\">{task.title}</h2>\n          <textarea\n            className=\"modal__text\"\n            onFocus={() => {\n              description === 'This task has no description' &&\n                setDescription('');\n            }}\n            onChange={(e) => {\n              setDescription(e.target.value);\n            }}\n            value={description}\n            onBlur={addDescription}\n          ></textarea>\n          <button onClick={() => navigate(-1)} className=\"modal__btn\">\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              width=\"25\"\n              height=\"24\"\n              viewBox=\"0 0 25 24\"\n              fill=\"none\"\n            >\n              <line\n                x1=\"1.35355\"\n                y1=\"0.646447\"\n                x2=\"24.3536\"\n                y2=\"23.6464\"\n                stroke=\"black\"\n              />\n              <line\n                y1=\"-0.5\"\n                x2=\"32.5269\"\n                y2=\"-0.5\"\n                transform=\"matrix(-0.707107 0.707107 0.707107 0.707107 24 1)\"\n                stroke=\"black\"\n              />\n            </svg>\n          </button>\n        </div>\n      </div>\n    </FocusTrap>\n  );\n}\n\nexport default Modal;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}